WEBVTT

00:00:01.406 --> 00:00:04.266
Searching for DB Credentials

00:00:05.012 --> 00:00:10.500
When looking for credentials, we have to
think like an administrator or a developer

00:00:10.734 --> 00:00:13.900
Where would a developer
store credentials?

00:00:14.219 --> 00:00:16.833
How would credentials be used?

00:00:17.046 --> 00:00:22.700
Are there any history or log files where
credentials could be saved accidentally?

00:00:23.360 --> 00:00:27.508
For example, if a server user
accidentally enters their password

00:00:27.508 --> 00:00:32.866
in the username field, it might be saved
in the authentication log file.

00:00:33.228 --> 00:00:36.338
Let’s think like an administrator
and look at locations

00:00:36.338 --> 00:00:39.133
that might contain user information.

00:00:40.689 --> 00:00:44.133
We first start by looking at /etc/passwd,

00:00:46.008 --> 00:00:47.300
/etc/group,

00:00:49.111 --> 00:00:51.166
and /etc/shadow,

00:00:53.724 --> 00:00:59.400
to get a feeling on how many users and
groups have access to the target system.

00:00:59.741 --> 00:01:03.200
However, the only useful piece
of information we gather

00:01:03.200 --> 00:01:06.466
is that a user named “ajla” exists.

00:01:08.150 --> 00:01:11.366
Let’s check the user’s home
directory to see what we can find.

00:01:14.414 --> 00:01:16.493
We don’t find much in the home directory,

00:01:16.493 --> 00:01:20.866
but let’s take a look at the bash history
file to see what they’ve been up to.

00:01:23.019 --> 00:01:25.166
This is interesting.

00:01:25.166 --> 00:01:30.500
A fairly empty history means
the account is not used much.

00:01:32.546 --> 00:01:35.633
The server must have been
administered somehow

00:01:35.633 --> 00:01:38.800
but we don’t see any
other users on the system.

00:01:39.098 --> 00:01:41.533
Let’s check the root user’s history.

00:01:43.835 --> 00:01:45.000
Interesting.

00:01:45.404 --> 00:01:49.866
The root user was used to
administer Ajla at one point,

00:01:49.866 --> 00:01:55.400
and the MySQL client was used
to drop the “wordpress” database.

00:01:56.827 --> 00:02:03.466
Luckily for us, the password and user were
entered directly on the command line.

00:02:03.731 --> 00:02:05.033
Excellent!
