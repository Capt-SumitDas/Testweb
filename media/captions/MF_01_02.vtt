WEBVTT

00:00:01.450 --> 00:00:03.883
Metasploit Database Access

00:00:05.041 --> 00:00:07.541
If the postgresql service is running,

00:00:07.833 --> 00:00:12.300
Metasploit will log findings and
information about discovered hosts,

00:00:12.300 --> 00:00:17.666
services, or credentials in a convenient,
accessible database.

00:00:18.100 --> 00:00:22.533
The database should have been populated
with the results of our TCP scan,

00:00:22.891 --> 00:00:25.825
which we can display with
the services command.

00:00:28.225 --> 00:00:32.025
The basic services command
displays all results,

00:00:34.508 --> 00:00:37.641
but we can also filter
by port number,

00:00:39.075 --> 00:00:40.208
service name,

00:00:41.275 --> 00:00:45.608
and more as shown in the help
output of the services command.

00:00:47.725 --> 00:00:53.791
In addition to a simple TCP port scanner,
we can also use the db_nmap wrapper

00:00:53.791 --> 00:00:56.825
to execute Nmap inside Metasploit

00:00:56.825 --> 00:01:00.491
and save the findings to
the database for ease of access.

00:01:02.583 --> 00:01:06.550
The db_nmap command
shares Nmap’s syntax.

00:01:06.783 --> 00:01:10.483
Let’s use it to run a port scan
against our Windows 10 system.

00:01:14.983 --> 00:01:20.283
To display all discovered hosts up to this
point, we can issue the “hosts” command.

00:01:23.941 --> 00:01:29.541
We can also show all services on
port 445 with the -p option.

00:01:34.558 --> 00:01:36.866
To help organize content
in the database,

00:01:36.866 --> 00:01:41.800
Metasploit allows us to store information
in separate workspaces.

00:01:42.458 --> 00:01:46.425
When specifying a workspace, we will
only see database entries relevant

00:01:46.425 --> 00:01:50.391
to that workspace, which helps
us easily manage data

00:01:50.391 --> 00:01:53.758
from various enumeration
efforts and assignments.

00:01:53.883 --> 00:01:57.483
We can list the available
workspaces with workspace.

00:01:59.608 --> 00:02:04.641
To add a workspace, we can use -a
followed by the workspace name.

00:02:08.383 --> 00:02:10.716
Then, to change to a
different workspace,

00:02:10.716 --> 00:02:14.283
we provide the name of the
workspace as an argument.

00:02:16.908 --> 00:02:23.208
Lastly, we can use -d, followed by the
workspace name to delete a workspace.
