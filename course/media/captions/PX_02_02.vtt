WEBVTT

00:00:02.131 --> 00:00:06.233
Introduction to User Account Control (UAC)

00:00:07.497 --> 00:00:11.005
User Account Control (UAC) is
an access control system

00:00:11.005 --> 00:00:15.825
that forces applications and tasks
to run in the context of a

00:00:15.825 --> 00:00:22.033
non-administrative account until an
administrator authorizes elevated access.

00:00:22.944 --> 00:00:27.206
In general, the effect of UAC is that any
application that wishes to perform

00:00:27.206 --> 00:00:31.066
an operation with a potential
system-wide impact,

00:00:31.066 --> 00:00:36.066
cannot do so without the
user’s consent, at least in theory.

00:00:36.860 --> 00:00:40.800
It is also important to point out
that UAC has two different modes:

00:00:40.800 --> 00:00:44.400
credential prompt and consent prompt.

00:00:45.516 --> 00:00:48.733
When a standard user wishes to
perform an administrative task

00:00:48.733 --> 00:00:51.033
such as installing a new application,

00:00:51.033 --> 00:00:55.833
the user will be prompted to enter
the credentials of an administrator

00:00:55.833 --> 00:00:57.800
in order to complete the task.

00:00:58.211 --> 00:01:02.100
However, when an administrative
user attempts to do the same,

00:01:02.100 --> 00:01:05.866
he or she is presented
with a consent prompt

00:01:05.866 --> 00:01:10.333
and the user simply has to confirm
that the task should be completed.

00:01:10.803 --> 00:01:14.900
In this case, no re-entry of
credentials is required.

00:01:15.943 --> 00:01:18.900
Even while logged in as an
administrative user,

00:01:18.900 --> 00:01:21.966
the account will have
two security tokens,

00:01:21.966 --> 00:01:28.066
one running at a medium integrity level
and the other at high integrity level.

00:01:29.124 --> 00:01:34.533
UAC acts as the separation mechanism
between those two integrity levels.

00:01:37.839 --> 00:01:42.766
To see integrity levels in action, let’s
first login as the admin user,

00:01:45.294 --> 00:01:46.933
open a command prompt,

00:01:48.505 --> 00:01:52.066
and run the whoami /groups command.

00:01:53.653 --> 00:01:58.166
This command prompt is currently running
at a Medium integrity level.

00:02:00.341 --> 00:02:03.466
Let’s attempt to change the
password for the admin user:


00:02:06.097 --> 00:02:10.966
The request is denied because to
change the admin user’s password,

00:02:10.966 --> 00:02:13.900
we must switch to a
high integrity level

00:02:13.900 --> 00:02:17.300
even if we are logged in as
an administrative user.

00:02:19.063 --> 00:02:22.133
One way to do this is through
powershell.exe

00:02:22.133 --> 00:02:24.666
with the Start-Process cmdlet,

00:02:25.695 --> 00:02:30.033
and specifying the “Run as
administrator” option.

00:02:35.735 --> 00:02:38.866
After pressing enter and
accepting the UAC prompt,

00:02:38.866 --> 00:02:43.766
we are presented with a new
high integrity cmd.exe process.

00:02:44.486 --> 00:02:48.266
Let’s check our integrity level using
the whoami command again.

00:02:51.396 --> 00:02:53.766
We are running at a
high integrity level

00:02:53.766 --> 00:02:57.200
so let’s attempt to change
the password again:

00:03:01.373 --> 00:03:04.633
This time, the password
change is successful.
