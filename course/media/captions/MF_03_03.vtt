WEBVTT

00:00:01.812 --> 00:00:04.012
Experimenting with Meterpreter

00:00:05.200 --> 00:00:08.483
We can retrieve a list of all
modules and commands

00:00:08.483 --> 00:00:11.841
built-in to Metepreter with
the help command.

00:00:16.379 --> 00:00:20.958
The best way to get to know the features
of Meterpreter is to test them out.

00:00:21.720 --> 00:00:27.316
Let’s start with a few simple
commands such as sysinfo,

00:00:31.104 --> 00:00:32.950
and getuid.

00:00:36.175 --> 00:00:40.770
These commands provide us with information
about the target computer,

00:00:40.770 --> 00:00:44.337
operating system, and
the current user.

00:00:45.225 --> 00:00:48.616
Next, let’s try some
uploads and downloads

00:00:48.616 --> 00:00:52.850
using the built-in “upload”
and “download” commands.

00:00:54.637 --> 00:00:57.225
Take note that, due to shell escaping,

00:00:57.225 --> 00:01:02.766
we must use two "\\" characters
for the destination path:

00:01:09.791 --> 00:01:13.550
The download command
uses a similar syntax.

00:01:21.687 --> 00:01:28.716
We can navigate the filesystem
with the pwd, ls, and cd commands.

00:01:29.591 --> 00:01:33.464
Even though the commands have the
same naming as those used on Linux,

00:01:33.464 --> 00:01:37.966
they work, through the Meterpreter,
on Windows hosts as well.

00:01:48.812 --> 00:01:53.250
We can launch a shell with the
aptly-named shell command.

00:01:55.675 --> 00:01:59.337
The advantage of this built-in
shell is its persistence.

00:02:00.050 --> 00:02:04.129
If for some reason, our shell
should die or hang,

00:02:04.129 --> 00:02:06.929
we can regain control of the session.

00:02:07.654 --> 00:02:12.116
For example, let’s hang a meterpreter
shell with an interactive command.

00:02:19.741 --> 00:02:23.629
Although this shell is hung, we
can exit with control-C

00:02:23.629 --> 00:02:26.095
to return to the Meterpreter session.

00:02:29.808 --> 00:02:33.837
Then we can re-spawn a
shell in a new channel.

00:02:41.612 --> 00:02:45.329
While applications can be executed
from within the command prompt

00:02:45.329 --> 00:02:47.195
opened with the shell command,

00:02:47.195 --> 00:02:50.962
there are also built-in
meterpreter commands we can use.

00:02:51.537 --> 00:02:55.858
For example, the execute
command launches an application,

00:03:00.520 --> 00:03:03.650
ps lists all running processes,

00:03:09.537 --> 00:03:13.116
and kill terminates a given process.

00:03:18.841 --> 00:03:22.066
While the meterpreter payload is
the signature payload of Metasploit

00:03:22.066 --> 00:03:26.829
and includes many great features,
it is not the only payload available.

00:03:27.354 --> 00:03:32.050
There are other payloads that have
use cases in specific situations like

00:03:32.050 --> 00:03:37.816
“vncinject for windows”, which is a
payload used to create a VNC

00:03:37.816 --> 00:03:42.616
graphical connection, or “reverse php”,

00:03:42.616 --> 00:03:46.583
which is a reverse shell
written entirely in PHP

00:03:46.583 --> 00:03:50.133
that can be used to exploit a
PHP web application.
