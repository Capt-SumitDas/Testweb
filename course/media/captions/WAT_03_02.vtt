WEBVTT

00:00:01.433 --> 00:00:02.333
Burp Suite

00:00:03.433 --> 00:00:08.866
Burp Suite is a collection of tools geared
towards web application security testing,

00:00:08.866 --> 00:00:12.900
arguably best-known as
a powerful proxy tool.

00:00:13.266 --> 00:00:16.400
Burp Suite has an extensive feature list

00:00:16.400 --> 00:00:18.100
and is worth investigation,

00:00:18.100 --> 00:00:22.233
but we will only explore a
few basic functions in this section.

00:00:26.633 --> 00:00:30.833
When Burp launches, we receive a message
about our Java runtime environment,

00:00:30.833 --> 00:00:32.366
which we can safely ignore.

00:00:35.466 --> 00:00:38.300
At the first screen, we’ll click Next.

00:00:40.500 --> 00:00:45.866
Then we’ll leave Use Burp defaults
selected and click Start Burp.

00:00:50.433 --> 00:00:52.233
Let’s start with the Proxy tool.

00:00:57.000 --> 00:01:01.366
With this tool, we can intercept any
request sent from the browser

00:01:01.366 --> 00:01:03.733
before it is passed on to the server.

00:01:04.400 --> 00:01:07.833
We can change almost anything
about the request at this point,

00:01:07.833 --> 00:01:10.766
such as parameter names, form values,

00:01:10.766 --> 00:01:13.100
or adding new headers.

00:01:13.566 --> 00:01:18.933
This lets us test how an application
handles unexpected arbitrary input.

00:01:19.533 --> 00:01:24.366
For example, an input field might
have a size limit of 20 characters,

00:01:24.366 --> 00:01:30.466
but we could use Burp Suite to modify
a request to submit 30 characters.

00:01:30.466 --> 00:01:36.200
Under the Intercept tab, we can enable or
disable the interception of web requests.

00:01:36.766 --> 00:01:38.733
When Intercept is enabled,

00:01:38.733 --> 00:01:40.933
we have to manually click on Forward

00:01:40.933 --> 00:01:44.333
to send each request
onward to its destination.

00:01:45.100 --> 00:01:49.500
Alternatively, we can click Drop
to not send the request.

00:01:50.500 --> 00:01:54.333
There are times when we will want to
intercept traffic and modify it,

00:01:54.333 --> 00:01:56.466
but when we are just browsing a site,

00:01:56.466 --> 00:02:00.200
having to click Forward on each
request becomes very tedious.

00:02:00.992 --> 00:02:05.366
The Intercept toggle button displays
the current state of the tool

00:02:05.366 --> 00:02:09.266
and can be used to enable
or disable it as required.

00:02:10.566 --> 00:02:14.300
For this module, we will
set this to Intercept is off

00:02:14.300 --> 00:02:17.233
to allow our browser
traffic to flow normally.

00:02:20.775 --> 00:02:24.066
Next, we can review
the proxy listener settings.

00:02:25.516 --> 00:02:30.766
The Options sub-tab shows what ports
are listening for proxy requests.

00:02:30.766 --> 00:02:35.733
By default, Burp Suite enables a
proxy listener on localhost:8080.

00:02:37.242 --> 00:02:40.533
This is the host and port that
our browser must connect to

00:02:40.533 --> 00:02:43.333
in order to proxy
traffic through Burp Suite.

00:02:43.990 --> 00:02:45.700
We will leave these default settings.

00:02:46.536 --> 00:02:51.233
The Intercept tool is enabled at startup
in Burp Suite’s default configuration.

00:02:52.040 --> 00:02:55.300
We can check this setting
under User options.

00:03:07.972 --> 00:03:10.900
Many users prefer to disable
Intercept on startup,

00:03:10.900 --> 00:03:14.300
which can be done by
selecting Always disable.

00:03:15.458 --> 00:03:19.466
Next, we’ll select Proxy
and then HTTP history.

00:03:24.824 --> 00:03:29.000
The contents will be blank until traffic
has been sent through Burp Suite.

00:03:36.472 --> 00:03:43.300
FoxyProxy Basic is a “simple on/off
proxy switcher” add-on for Firefox.

00:03:48.500 --> 00:03:52.866
We will use it to enable or disable
the Firefox proxy settings.

00:03:53.233 --> 00:03:55.033
Let’s install that now.

00:04:00.981 --> 00:04:03.266
A welcome page for FoxyProxy

00:04:03.266 --> 00:04:06.233
opens automatically when
the installation is complete.

00:04:06.868 --> 00:04:10.166
We also have a new icon
to the right of the URL bar.

00:04:11.242 --> 00:04:13.500
FoxyProxy is disabled by default,

00:04:13.500 --> 00:04:17.066
which we can verify
visually by looking at the icon.

00:04:17.604 --> 00:04:20.400
If it has a red circle
with a slash through it,

00:04:20.400 --> 00:04:22.333
the add-on is disabled.

00:04:26.570 --> 00:04:30.400
Before enabling FoxyProxy,
we need to add a profile.

00:04:31.027 --> 00:04:34.500
First, we’ll click the icon
and select Options.

00:04:40.709 --> 00:04:46.233
On the Options page, we’ll click Add
to open the “Add Proxy” screen.

00:04:49.842 --> 00:04:56.166
To set up a profile for Burp Suite,
we will leave Proxy Type set to “HTTP”.

00:04:56.704 --> 00:05:00.233
Then we’ll enter “Burp” for the Title,

00:05:01.017 --> 00:05:03.300
add our localhost IP address,

00:05:05.354 --> 00:05:06.966
and port 8080.

00:05:07.967 --> 00:05:11.366
Finally, we’ll click Save
to add the configuration.

00:05:15.080 --> 00:05:19.200
After we save, our new proxy
is listed on the Options page.

00:05:19.200 --> 00:05:23.400
We can enable it by clicking
the FoxyProxy icon again,

00:05:24.819 --> 00:05:29.166
and then clicking Use proxy
Burp for all URLs.

00:05:35.989 --> 00:05:42.733
Our FoxyProxy icon is no longer crossed
out and has “Burp” superimposed on it.

00:05:43.659 --> 00:05:47.900
With the proxy enabled, we’ll browse
to the MegaCorp One homepage.

00:05:51.882 --> 00:05:56.933
We should see traffic in Burp Suite
under the HTTP history tab.

00:06:01.192 --> 00:06:06.000
If the web page does not load,
we likely still have Intercept enabled.

00:06:06.000 --> 00:06:09.100
In this case, make sure it is disabled.

00:06:09.667 --> 00:06:13.966
Up to this point, we’ve only
looked at cleartext HTTP traffic.

00:06:14.287 --> 00:06:17.433
However, if we browse an HTTPS site

00:06:17.433 --> 00:06:19.566
while proxying traffic through Burp

00:06:19.566 --> 00:06:24.500
(such as https://www.google.com),

00:06:24.500 --> 00:06:28.233
we’ll be presented with an
“invalid certificate” warning:

00:06:33.015 --> 00:06:36.100
Burp can easily decrypt HTTPS traffic

00:06:36.100 --> 00:06:38.633
by generating its own certificate,

00:06:38.633 --> 00:06:43.500
essentially man-in-the-middling ourselves
in order to capture the traffic.

00:06:43.813 --> 00:06:45.700
These warnings can be irritating

00:06:45.700 --> 00:06:49.300
but we can prevent them
by issuing a new certificate

00:06:49.300 --> 00:06:52.466
and importing it into Firefox.

00:06:55.709 --> 00:06:59.900
Even though each Burp Suite CA
certificate should be unique,

00:07:00.064 --> 00:07:02.900
we will ensure this by regenerating it.

00:07:03.366 --> 00:07:07.400
To do this, we will navigate to
Options under the Proxy tab.

00:07:10.134 --> 00:07:15.766
In the Proxy Listeners section,
we’ll click Regenerate CA certificate.

00:07:18.710 --> 00:07:24.366
Then we’ll click Yes on the confirmation
dialog and restart Burp Suite.

00:07:45.430 --> 00:07:49.066
Again, we’ll keep all of the
defaults when burp launches…

00:07:53.946 --> 00:07:58.033
..and we’ll also turn off Intercept again.

00:08:06.626 --> 00:08:09.400
To import the new
CA certificate into Firefox,

00:08:09.400 --> 00:08:12.100
we will first browse to
the burp welcome page.

00:08:17.121 --> 00:08:22.966
On this page, we’ll click CA Certificate
and save the file to our local machine.

00:08:28.869 --> 00:08:30.900
Once the download is complete,

00:08:30.900 --> 00:08:34.733
we can drag and drop the
downloaded file into Firefox.

00:08:44.417 --> 00:08:49.700
We’ll select Trust this CA to
identify websites and click OK.


00:08:58.890 --> 00:09:04.166
To verify the import was successful,
we can again browse to a site using HTTPS,

00:09:04.166 --> 00:09:06.566
which should load without a warning.

00:09:18.492 --> 00:09:25.500
This should have generated HTTPS traffic
within BurpSuite’s HTTP History tab.

00:09:30.476 --> 00:09:32.666
Finally, with the Repeater tool,

00:09:32.666 --> 00:09:35.166
we can easily modify requests,

00:09:35.166 --> 00:09:36.433
resend them,

00:09:36.433 --> 00:09:38.633
and review the responses.

00:09:39.006 --> 00:09:44.433
To see this in action, we can right-click
a request and select Send to Repeater.

00:09:50.007 --> 00:09:51.500
If we click on Repeater,

00:09:54.802 --> 00:09:59.266
we will have one sub-tab with the
request on the left side of the window.

00:10:00.581 --> 00:10:05.933
We can send multiple requests to Repeater
and it will display them on separate tabs.

00:10:05.933 --> 00:10:09.966
We can send the request to
the server by clicking Send.

00:10:13.254 --> 00:10:17.800
Burp Suite displays the raw server
response on the right side of the window,

00:10:17.800 --> 00:10:22.800
which includes the response headers
and unrendered response content.

00:10:23.173 --> 00:10:28.533
Web application exploitation often
requires a great deal of trial and error

00:10:28.533 --> 00:10:33.866
as we submit and modify requests
and monitor the responses.

00:10:34.464 --> 00:10:39.733
Repeater is very useful for this as we
can quickly tweak elements of the request

00:10:39.733 --> 00:10:44.900
and resend them without waiting for
our browser to render every response.
