WEBVTT

00:00:01.631 --> 00:00:03.733
Privilege Escalation

00:00:04.611 --> 00:00:07.853
First, we will copy the exploit to
our home directory

00:00:07.853 --> 00:00:10.733
so we don’t alter the original version.

00:00:15.167 --> 00:00:20.066
With the copy made, we will follow
the compile instructions in the file.

00:00:22.137 --> 00:00:27.233
The exploit compiled without errors so we
will use meterpreter to upload it to Ajla.

00:00:37.775 --> 00:00:41.800
Finally, it’s time to run the
exploit against Ajla.

00:00:45.648 --> 00:00:49.900
We’ll first make the exploit
executable, and then run it.

00:00:54.041 --> 00:00:57.800
The exploit does not give us any
output but running whoami

00:00:57.800 --> 00:01:01.933
tells us that we are now
running as the root user.

00:01:03.125 --> 00:01:09.566
Now that we have root access, we can
create a more stable backdoor using ssh.

00:01:10.131 --> 00:01:14.666
This will allow us to come back to
Ajla even if our meterpreter session dies.

00:01:17.490 --> 00:01:22.166
First, we need to generate a new
ssh key on our Kali machine

00:01:22.166 --> 00:01:24.266
and copy it to the clipboard.

00:01:31.064 --> 00:01:33.400
With our ssh key generated,

00:01:33.400 --> 00:01:39.466
we can create the authorized_keys
file on Ajla to accept our public key.

00:01:43.440 --> 00:01:47.600
We’ll do this via the root shell
in our meterpreter session.

00:01:52.766 --> 00:01:57.866
Now on Kali, we can use the ssh
client to connect to Ajla directly.
